/**
 * @license ng-gc-login-directive v0.1.0
 * (c) 2013-2013 GoCardless, Ltd.
 * https://github.com/gocardless-ng/ng-gc-login-directive.git
 * License: MIT
 */
!function(){"use strict";angular.module("login-template.html",[]).run(function(a){a.put("login-template.html",'<div><dialog show="isVisible" ng-class="\'login-dialog\'" template-url="empty" options="{\n      preventHideOnClick: true,\n      preventHideOnEscape: true\n    }"><form ng-submit="signIn()" name="loginForm"><div class="u-padding-Am"><div class="error-label u-margin-Bm" ng-show="signInError"><span>{{ signInError }}</span></div><label for="login-email" class="label label--stacked">Email</label><input type="email" id="login-email" name="loginEmail" ng-model="loginDetails.email" class="input input--stacked input--block"><div class="error-label" ng-show="loginForm.loginEmail.$dirty && form.loginEmail.$invalid"><span ng-show="loginForm.loginEmail.$error.required">Please provide a valid email</span></div><div class="u-cf"><div class="u-pull-start"><label for="login-password" class="label label--stacked">Password</label></div><div class="u-pull-end" ng-show="AppConfig.gocardless"><a href="{{ AppConfig.gocardless.host }}/users/password/new" class="label label--stacked u-link u-text-normal">Forgot your password?</a></div></div><input type="password" id="login-password" name="loginPassword" ng-model="loginDetails.password" class="input input--stacked input--block"><div class="error-label" ng-show="loginForm.loginPassword.$dirty && form.loginPassword.$invalid"><span ng-show="loginForm.loginPassword.$error.required">Please provide a password</span></div><input type="submit" class="btn btn--info btn--block" value="Sign in"></div></form></dialog></div>')}),angular.module("gc.loginController",["ngSecurityService"]).controller("LoginController",["$scope","$window","SecurityService",function(a,b,c){function d(a){return b.document.getElementById(a)}function e(){var a=d("login-email"),b=d("login-password");return{email:a&&a.value,password:b&&b.value}}a.signIn=function(){c.signIn(e()).then(function(){a.signInError=""},function(b){a.signInError=b.data.error})},a.$watch(function(){return c.isSignInVisible()},function(b){a.isVisible=b}),a.AppConfig=b.AppConfig}]),angular.module("gc.login",["gc.dialog","gc.loginController","login-template.html"]).directive("login",[function(){return{restrict:"E",templateUrl:"login-template.html",replace:!0,controller:"LoginController",scope:{}}}])}();